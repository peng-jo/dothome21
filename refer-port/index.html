<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포트폴리오</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@1.0/nanumsquare.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <div class="scroll">0</div>
    <div id="contents">
        <section id="section1">
        </section>
    </div>
    <header id="header">
        <ul class="header__left">
            <li><img class="header__circle" src="./assets/svg/plus_circle.svg" alt="plus_circle"></li>
            <li>
                <span>
                    <div>PORT PROCESS</div>
                    <span class="header__num">10%</span>
                    <span class="header__percent">
                        <span class="header__percent__show">
                            
                        </span>
                    </span>
                </span>
            </li>
        </ul>
        <ul class="header__right">
            <li>WORK</li>
            <li>CONTACT</li>
            <li class="yellow">
                <span>PORT MENU</span>
            </li>
        </ul>
    </header>
    <section id="section1">
		<div class="span__wrapper">
			<div class="span__cont show blink">
				<span class="c1 ">
					CODING LIFE
				</span>
			</div>
			<div class="span__cont blink">
				<span class="c2 ">
					LIFE IS CODING
				</span>
			</div>
		</div>
	</section>
	<section id="section2"
        data-10000="opacity:1;"
        data-12000="opacity:0;"
    >
        <!-- <div class="span__cont2 fixed text-motion text-effect"
            data-0 = "transform: translate(-5vw, -20%);visibility: visible;"
            data-4000="visibility: hidden;transform: translate(-5vw, -100%);"
            data-6000 = "transform: translate(-5vw, -120%);"
        >
			<span>CODING</span>
			<span>LIFE</span>
			<span>SOMEONE</span>
			<span>WHO</span>
			<span>WANTS</span>
			<span>BETTER</span>
			<span>FRONTEND</span>
		</div> -->
		<div class="span__cont fixed"
            data-4000="opacity:1;transform: translate(-5vw, -30%)"
            data-6000 = "transform: translate(-5vw, -120%);opacity:0;"
        >
			<span>CODING</span>
			<span>LIFE</span>
			<span>SOMEONE</span>
			<span>WHO</span>
			<span>WANTS</span>
			<span>BETTER</span>
			<span>FRONTEND</span>
		</div>
        <div class="video__wrapper fixed"
            data-5300="opacity:0"
            data-6000="opacity:1"
        >
            <no-show style="display: none;" data-emit-events data-5300 ></no-show>
            <no-show style="display: none;" data-emit-events data-13000 ></no-show>
            
            <video class="video" preload="auto" playsinline autoplay loop>
                <source src="./assets/video/video.mp4" type="video/mp4" >
            </video>
        </div>
        <div class="text_wrapper fixed"
            data-6000="display:none;"
            data-6001="display:block;"
        >
            <span class="text"
                data-6001="transform:translateX(0%)"
                data-11000="transform:translateX(-110%)"
            >
                안녕하세요 저는 프론트엔드 개발자를 꿈꾸고 있는 신입 개발자 조범수 입니다
            </span>
        </div>
	</section>
    <section id="section3"
    >

    
    <div class="img1 fixed"
        data-12000="opacity:0;"
        data-13000="opacity:1;"
    >
        <div class="text1">
            <span class="orange">CODING LIFE</span>
            <span>REACT</span>
            <span class="orange">PORTFOLIO</span>
            <span>SITE</span>
        </div>
    </div>
    </section>
    <footer>
        <span class="port">
            
        </span>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/skrollr/0.6.30/skrollr.min.js"></script>
    <script>
        const video = document.querySelector('.video');
		const section = document.querySelectorAll('section');
        const spanCont = document.querySelectorAll('.span__cont');
      

        
        let allowed = true;
        

        skrollr.init({
            smoothScrolling:true,
            keyframe: function(element, name, direction) { //element, name, direction
                if(name === "data5300" || name === "data13000" ){
                    const promise = video.play();
                    video.currentTime = 0;
                    console.log( video.currentTime );
                    if (promise !== undefined) { 
                        promise.then(_ => { 
                            
                        }).catch(error => { 
                            console.log(error)
                        }) }
                    
                }
            }
        });

        window.addEventListener("scroll", ()=>{
            let scrollTop = document.documentElement.scrollTop || window.scrollY || window.pageYOffset
            document.querySelector(".scroll").innerHTML = parseInt(scrollTop);
        });
   
        //휠스크롤시 
        function doWheel(e){
            if (allowed){
                e.preventDefault();
            }
        }

        setTimeout(()=>{
            console.log('2')
            spanCont[0].classList.remove('show');
            spanCont[1].classList.add('show');
            
            setTimeout(()=>{
                spanCont[1].classList.remove('show');
				section[0].remove();
                section[2].classList.add('show');
                spanCont[2].classList.add('showing')
                allowed = false;
            },10)
        },10)
        window.addEventListener("wheel",doWheel,{passive:false});
    </script>
</body>
</html>